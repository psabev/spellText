/* ------------------- Spelling JSON ---------------------- */
var SpellJSON = {
  '': {
	Name: ' ',
    Transcribe: ' ',
    Spell: ' ',
    Morse: ' '
  },
  '0': {
    Name: 'Zero',
    Transcribe: 'ˈziˈro',
    Spell: 'ZE RO',
    Morse: '-----'
  },
  '1': {
    Name: 'One',
    Transcribe: 'ˈwʌn',
    Spell: 'WUN',
    Morse: '.----'
  },
  '2': {
    Name: 'Two',
    Transcribe: 'ˈtu',
    Spell: 'TOO',
    Morse: '..---'
  },
  '3': {
    Name: 'Three',
    Transcribe: 'ˈtri',
    Spell: 'TREE',
    Morse: '...--'
  },
  '4': {
    Name: 'Four',
    Transcribe: 'ˈfoər',
    Spell: '<u>FOW</u> ER',
    Morse: '....-'
  },
  '5': {
    Name: 'Five',
    Transcribe: 'ˈfaɪf',
    Spell: 'FIFE',
    Morse: '.....'
  },
  '6': {
    Name: 'Six',
    Transcribe: 'ˈsɪks',
    Spell: 'SIX',
    Morse: '-....'
  },
  '7': {
    Name: 'Seven',
    Transcribe: 'ˈsɛvən',
    Spell: '<u>SEV</u> EN',
    Morse: '--...'
  },
  '8': {
    Name: 'Eight',
    Transcribe: 'ˈet',
    Spell: 'AIT',
    Morse: '---..'
  },
  '9': {
    Name: 'Nine',
    Transcribe: 'ˈnaɪnər',
    Spell: '<u>NIN</u> ER',
    Morse: '----.'
  },
  A: {
    Name: 'Alfa',
    Transcribe: 'ˈælfa',
    Spell: '<u>AL</u> FAH',
    Morse: '.-'
  },
  B: {
    Name: 'Bravo',
    Transcribe: 'ˈbraːˈvo',
    Spell: '<u>BRAH</u> VOH',
    Morse: '-...'
  },
  C: {
    Name: 'Charlie',
    Transcribe: 'ˈtʃɑːli',
    Spell: '<u>CHAR</u> LEE',
    Morse: '-.-.'
  },
  D: {
    Name: 'Delta',
    Transcribe: 'ˈdeltɑ',
    Spell: '<u>DELL</u> TAH',
    Morse: '-..'
  },
  E: {
    Name: 'Echo',
    Transcribe: 'ˈeko',
    Spell: '<u>ECK</u> OH',
    Morse: '.'
  },
  F: {
    Name: 'Foxtrot',
    Transcribe: 'ˈfɔkstrɔt',
    Spell: '<u>FOKS</u> TROT',
    Morse: '..-.'
  },
  G: {
    Name: 'Golf',
    Transcribe: 'ɡʌlf',
    Spell: 'GOLF',
    Morse: '--.'
  },
  H: {
    Name: 'Hotel',
    Transcribe: 'hoːˈtel',
    Spell: '<u>HO</u> TELL',
    Morse: '....'
  },
  I: {
    Name: 'India',
    Transcribe: 'ˈindi.ɑ',
    Spell: '<u>IN</u> DEE AH',
    Morse: '..'
  },
  J: {
    Name: 'Juliett',
    Transcribe: 'ˈdʒuːli.ˈet',
    Spell: '<u>JEW</u> LEE <u>ETT</u>',
    Morse: '.---'
  },
  K: {
    Name: 'Kilo',
    Transcribe: 'ˈkiːlo',
    Spell: '<u>KEY</u> LOH',
    Morse: '-.-'
  },
  L: {
    Name: 'Lima',
    Transcribe: 'ˈliːmɑ',
    Spell: '<u>LEE</u> MAH',
    Morse: '.-..'
  },
  M: {
    Name: 'Mike',
    Transcribe: 'mɑik',
    Spell: 'MIKE',
    Morse: '--'
  },
  N: {
    Name: 'November',
    Transcribe: 'noˈvembə',
    Spell: 'NO <u>VEM</u> BER',
    Morse: '-.'
  },
  O: {
    Name: 'Oscar',
    Transcribe: 'ˈɔskɑ',
    Spell: '<u>OSS</u> CAH',
    Morse: '---'
  },
  P: {
    Name: 'Papa',
    Transcribe: 'pəˈpɑ',
    Spell: 'PAH <u>PAH</u>',
    Morse: '.--.'
  },
  Q: {
    Name: 'Quebec',
    Transcribe: 'keˈbek',
    Spell: 'KEH <u>BECK</u>',
    Morse: '--.-'
  },
  R: {
    Name: 'Romeo',
    Transcribe: 'ˈroːmi.o',
    Spell: '<u>ROW</u> ME OH',
    Morse: '.-.'
  },
  S: {
    Name: 'Sierra',
    Transcribe: 'siˈerɑ',
    Spell: 'SEE <u>AUR</u> RAH',
    Morse: '...'
  },
  T: {
    Name: 'Tango',
    Transcribe: 'ˈtænɡo',
    Spell: '<u>TANG</u> GO',
    Morse: '-'
  },
  U: {
    Name: 'Uniform',
    Transcribe: 'ˈjuːnifɔːm',
    Spell: '<u>YOU</u> NEE FORM',
    Morse: '..-'
  },
  V: {
    Name: 'Viktor',
    Transcribe: 'ˈviktɑ',
    Spell: '<u>VIK</u> TAH',
    Morse: '...-'
  },
  W: {
    Name: 'Whiskey',
    Transcribe: 'ˈwiski',
    Spell: '<u>WISS</u> KEY',
    Morse: '.--'
  },
  X: {
    Name: 'X-ray',
    Transcribe: 'ˈeksˈrei',
    Spell: '<u>ECKS</u> RAY',
    Morse: '-..-'
  },
  Y: {
    Name: 'Yankee',
    Transcribe: 'ˈjænki',
    Spell: '<u>YANG</u> KEY',
    Morse: '-.--'
  },
  Z: {
    Name: 'Zulu',
    Transcribe: 'ˈzuːluː',
    Spell: '<u>ZOO</u> LOO',
    Morse: '--..'
  },
  '-': {
    Name: 'Dash',
    Transcribe: 'ˈdæʃ',
    Spell: 'DASH',
    Morse: '-....-'
  },
  '.': {
    Name: 'Stop',
    Transcribe: 'ˈstɔp',
    Spell: 'STOP',
    Morse: '.-.-.-'
  },
  ' ': {
    Name: 'Space',
    Transcribe: 'ˈspeɪs',
    Spell: 'SPACE',
    Morse: ' '
  },
  ',': {
    Name: 'Comma',
    Transcribe: 'ˈkɒmə',
    Spell: '<u>KOM</u> EH',
    Morse: '--..--'
  },
  ';': {
    Name: 'Semicolon',
    Transcribe: 'ˌsɛmɪˈkəʊlən',
    Spell: 'SEH ME <u>KOW</u> LUHN',
    Morse: ''
  },
  ':': {
    Name: 'Colon',
    Transcribe: 'ˈkəʊlən',
    Spell: '<u>KOW</u> LUHN',
    Morse: '---...'
  },
  '?': {
    Name: 'Question Mark',
    Transcribe: 'ˈkwɛstʃ(ə)n mɑːk',
    Spell: '<u>KWES</u> CHN MAAK',
    Morse: '..--..'
  },
  '!': {
    Name: 'Exclamation Mark',
    Transcribe: 'ˌɛkskləˈmeɪʃ(ə)n mɑːk',
    Spell: 'EK SKLUH <u>MEI</u> SHN MAAK',
    Morse: '-.-.--'
  },
  '@': {
    Name: 'At Sign',
    Transcribe: 'ˈət sʌɪn',
    Spell: '<u>ET</u> SAIN',
    Morse: '.--.-.'
  },
  '&': {
    Name: 'Ampersand',
    Transcribe: 'ˈæm.pɚ.sænd',
    Spell: '<u>AM</u> PUH SAND',
    Morse: '.-...'
  },
  '"': {
    Name: 'Quotation Mark',
    Transcribe: 'kwə(ʊ)ˈteɪʃ(ə)n',
    Spell: 'KWOW <u>TEI</u> SHN MAAK',
    Morse: '.-..-.'
  },
  '\'': {
    Name: 'Apostrophe',
    Transcribe: 'əˈpɒstrəfi',
    Spell: 'UH <u>PO</u> STRUH FEE',
    Morse: '.----.'
  },
  '/': {
    Name: 'Slash',
    Transcribe: 'slaʃ',
    Spell: 'SLASH',
    Morse: '-..-.'
  },
  '\\': {
    Name: 'Backslash',
    Transcribe: 'ˈbakslaʃ',
    Spell: '<u>BAK</u> SLASH',
    Morse: '-..-.'
  },
  '(': {
    Name: 'Open Parenthesis',
    Transcribe: 'ˈəʊpən pəˈren.θə.sɪs',
    Spell: '<u>OW</u> PIN PUH <u>REN</u> THUH SUHS',
    Morse: '-.--.'
  },
  ')': {
    Name: 'Closed Parenthesis',
    Transcribe: 'kləʊzd pəˈren.θə.sɪs',
    Spell: 'KLOWZD PUH <u>REN</u> THUH SUHS',
    Morse: '-.--.-'
  },
  '[': {
    Name: 'Left Square Bracket',
    Transcribe: 'left skweə(r) ˈbræk.ɪt',
    Spell: 'LEFT <u>SKWEUH</u> <u>BRAK</u> IT',
    Morse: '-.--.'
  },
  ']': {
    Name: 'Right Square Bracket',
    Transcribe: 'raɪt skweə(r) ˈbræk.ɪt',
    Spell: 'RAIT <u>SKWEUH</u> <u>BRAK</u> IT',
    Morse: '-.--.-'
  },
  '{': {
    Name: 'Left Curly Bracket',
    Transcribe: 'left ˈkɜː.li ˈbræk.ɪt',
    Spell: 'LEFT <u>KUH</u> LEE <u>BRAK</u> IT',
    Morse: '-.--.'
  },
  '}': {
    Name: 'Right Curly Bracket',
    Transcribe: 'raɪt ˈkɜː.li ˈbræk.ɪt',
    Spell: 'RAIT <u>KUH</u> LEE <u>BRAK</u> IT',
    Morse: '-.--.-'
  },
  '<': {
    Name: 'Less-Than Sign',
    Transcribe: 'ˈles ðən ˌsaɪn',
    Spell: '<u>LES</u> THAN SAIN',
    Morse: ' '
  },
  '>': {
    Name: 'Greater-Than Sign',
    Transcribe: 'ɡreɪ·t̬ər ðən ˌsaɪn',
    Spell: '<u>GREI</u> TUH THAN SAIN',
    Morse: ' '
  },
  '|': {
    Name: 'Vertical Bar',
    Transcribe: 'ˈvɜː.tɪ.kəl bɑːr',
    Spell: '<u>VUH</u> TUH KL <u>BAR</u>',
    Morse: ' '
  },
  '°': {
    Name: 'Degree Symbol',
    Transcribe: 'dɪˈɡriː ˈsɪm.bəl',
    Spell: 'DUH <u>GREE</u> <u>SIM</u> BL',
    Morse: ' '
  },
  '*': {
    Name: 'Asterisk',
    Transcribe: 'ˈæs.tɚ.ɪsk',
    Spell: '<u>A</u> STUH RUHSK',
    Morse: ' '
  },
  '+': {
    Name: 'Plus Sign',
    Transcribe: 'ˈplʌs ˌsaɪn',
    Spell: 'PLUHS SAIN',
    Morse: '.-.-.'
  },
  '=': {
    Name: 'Equal Sign',
    Transcribe: 'ˈiː.kwəl ˌsaɪn',
    Spell: '<u>EE</u>KWL SAIN',
    Morse: '-...-'
  },
  '#': {
    Name: 'Hash',
    Transcribe: 'hæʃ',
    Spell: 'HASH',
    Morse: ' '
  },
  '§': {
    Name: 'Section Sign',
    Transcribe: 'ˈsek.ʃən ˌsaɪn',
    Spell: '<u>SEK</u> SHN SAIN',
    Morse: ' '
  },
  '$': {
    Name: 'Dollar Sign',
    Transcribe: 'ˈdɒl.ə ˌsaɪn',
    Spell: '<u>DO</u> LUH SAIN',
    Morse: '..- ... -..'
  },
  '€': {
    Name: 'Euro Currency Sign',
    Transcribe: 'ˈjʊərəʊ ˌkʌrənsi ˌsaɪn',
    Spell: '<u>YUOR</u> ROW KUH RUHN SEE SAIN',
    Morse: '-.-- . -.'
  },
  '£': {
    Name: 'Pound Currency Sign',
    Transcribe: 'ˈpaʊnd ˌkʌrənsi ˌsaɪn',
    Spell: 'PAWND KUH RUHN SEE SAIN',
    Morse: '--. -... .--.'
  },
  '¥': {
    Name: 'Yen Currency Sign',
    Transcribe: 'ˈjen ˌkʌrənsi ˌsaɪn',
    Spell: 'YEN KUH RUHN SEE SAIN',
    Morse: '-.-- . -.'
  },
  '~': {
    Name: 'Tilde',
    Transcribe: 'ˈtɪl.də',
    Spell: '<u>TIL</u> DUH',
    Morse: ' '
  },
  _: {
    Name: 'Underscore',
    Transcribe: 'ˌʌn.dɚˈskɔːr',
    Spell: '<u>UHN</u> DUH SKAW',
    Morse: '..--.-'
  },
  '%': {
    Name: 'Percent',
    Transcribe: 'pəˈsent',
    Spell: 'PUH <u>SENT</u>',
    Morse: '----- -..-. -----'
  },
  '^': {
    Name: 'Caret',
    Transcribe: 'ˈ',
    Spell: '<u>KA</u> RUHT',
    Morse: ''
  },
  '\u066B': {
    Name: 'Decimal',
    Transcribe: 'ˈdeˈsiˈmæl',
    Spell: '<u>DAY</u> <u>SEE</u> <u>MAL</u>',
    Morse: '.-.-.-'
  },
  '\u2030': {
    Name: 'Hundred',
    Transcribe: 'ˈhʌndrɛd',
    Spell: '<u>HUN</u> DRED',
    Morse: '----- -----'
  },
  '\u2031': {
    Name: 'Thousand',
    Transcribe: 'ˈtaʊˈzɛnd',
    Spell: 'TOU SAND',
    Morse: '----- ----- -----'
  }
};

/* ------------------- Source Code ---------------------- */



function spellPhonetic(letter)
/* Get a spelling code word for each letter according to NATO phonetic alphabet */
{
  return SpellJSON[checkIfExists(letter)].Name;
}

function spellTranscribe(letter)
/* Get a spelling code word transcription */
{
  return SpellJSON[checkIfExists(letter)].Transcribe;
}

function spellFAARespelling(letter)
/* Get a FAA respelling with stress underlined */
{
  return SpellJSON[checkIfExists(letter)].Spell;
}

function spellMorse(letter)
/* Get a Morse code representation for a given letter */
{
  return SpellJSON[checkIfExists(letter)].Morse;
}

function spellLetter(letter)
/* Returns a letter, unless it is 00, 000 or decimal symbol */
{
  switch(letter)
  {
	case "\u066B": return "."; break;
	case "\u2030": return "00"; break;
	case "\u2031": return "000"; break;
	default: return letter; break;
  }
}

function checkIfExists(letter)
/* Checks if the letter exists in JSON, returns empty string if does not exist */
{
	if (typeof(SpellJSON[letter]) == 'undefined') 
	{
		return "";
	} else 
	{
		return letter; 
	}
}

function decorate(letter)
/* Generates full spelling tags */
{
return '<div class="divTable"><div class="divTableBody"><div class="divTableRow"><div class="divTableCellLetter">'+spellLetter(letter)+'</div><div class="divTableCellPhonetic">'+spellPhonetic(letter)+'</div><div class="divTableCellFAARespell">'+spellFAARespelling(letter)+'</div><div class="divTableCellTranscribe">['+spellTranscribe(letter)+']</div><div class="divTableMorse">'+spellMorse(letter).replace(/\./gi,"•")+'</div></div></div></div>';
}

function spellText() 
/* Separates given text to letters, finding numbers such as 100, 400, 1000, 6000.
Also determines whether the . symbol should be spelled as "stop" or "decimal" */
{
  var result = '';
  /* Get the input */
  x = "$"+this.value.toUpperCase()+"$"; // Add bracketing
  /* Change decimal point with decimal separator \u066B */  
  x = x.replace(/(\d)\.(\d)/gu,"$1\u066B$2");
  /* Change 00 to hundred and 000 to thousand */
  x = x.replace(/(\D[1-9])00000([\D|$])/gu,"$1\u2030\u2031$2");
  x = x.replace(/(\D[1-9])000([\D])/gu,"$1\u2031$2");
  x = x.replace(/(\D[1-9])00([\D])/gu,"$1\u2030$2");
  x = x.slice(1,-1); // Remove bracketing
  for (var i = 0; i < x.length; i++)
  {
	result+=decorate(x[i]);
  }
  document.getElementById("output").innerHTML = result;
}


